# Utilidades de pruebas de Zone.js

Esta guía describe las utilidades de pruebas utilizadas principalmente para gestionar y controlar tareas asíncronas en pruebas unitarias. Estas utilidades son esencialmente las utilidades de reloj mock específicas de Zone.js, particularmente relevantes para controlar el flujo de operaciones asíncronas dentro de las pruebas.

Para utilidades generales de pruebas en Angular, incluyendo `TestBed` y `ComponentFixture`, consulta la guía [APIs de utilidades de pruebas](guide/testing/utility-apis).

Aquí hay un resumen de las funciones específicas de Zone.js:

| Función                | Detalles                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| :--------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `waitForAsync`         | Rastrea tareas asíncronas y completa las pruebas solo una vez que ya no quedan micro-tareas o macro-tareas pendientes en la zona de prueba. Consulta [waitForAsync](guide/testing/components-scenarios#prueba-async-sin-fakeasync).                                                                                                                                                                                                                                                                                                                                                              |
| `fakeAsync`            | Ejecuta el cuerpo de una prueba \\(`it`\\) dentro de una _zona de prueba fakeAsync_ especial, habilitando un estilo de codificación de flujo de control lineal. Consulta [fakeAsync](guide/testing/components-scenarios#prueba-async-con-fakeasync).                                                                                                                                                                                                                                                                                                                                             |
| `tick`                 | Simula el paso del tiempo y la finalización de actividades asíncronas pendientes vaciando tanto las colas de _temporizadores_ como de _micro-tareas_ dentro de la _zona de prueba fakeAsync_. El lector curioso y dedicado podría disfrutar esta extensa publicación de blog, [\"_Tasks, microtasks, queues and schedules_\"](https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules). Acepta un argumento opcional que mueve el reloj virtual hacia adelante por el número especificado de milisegundos, limpiando las actividades asíncronas programadas dentro de ese período de tiempo. Consulta [tick](guide/testing/components-scenarios#la-función-tick). |
| `discardPeriodicTasks` | Descarta cualquier tarea periódica (por ejemplo, `setInterval`) que fue creada dentro de la zona `fakeAsync`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `flushMicrotasks`      | Cuando una prueba `fakeAsync()` termina con _micro-tareas_ pendientes, como promesas no resueltas, la prueba falla con un mensaje de error claro. <br /> En general, una prueba debe esperar a que las micro-tareas terminen. Cuando se esperan micro-tareas pendientes, llama a `flushMicrotasks` para vaciar la cola de _micro-tareas_ y evitar el error.                                                                                                                                                                                                                                     |
